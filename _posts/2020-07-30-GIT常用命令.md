---
layout:     post
title:      git 常用命令
subtitle:   
date:       2020-07-30
author:     laosuan
header-img: elastic.png
catalog: true
tags:
    - git
---

##  切换远程地址

1.git 删除远程地址

```
git remote rm origin
```

2.git 更换远程地址

```
 git remote add origin http://10.00.3.260:10080/xxxxxx/sxxxy.git/
```

3.把当前分支与远程分支进行关联**(branchname要改成你的当前分支名称)**

```
git push --set-upstream origin branchname
```

4.强制还原至远程分支一致
```
git reset --hard origin/master
```


## 生成ssh key

### 1、设置Git的user name和email：(如果是第一次的话)

    $ git config --global user.name "humingx"
    $ git config --global user.email "humingx@yeah.net"
### 2、生成密钥

    $ ssh-keygen -t rsa -C "humingx@yeah.net"
连续3个回车。如果不需要密码的话。
最后得到了两个文件：id_rsa和id_rsa.pub。

### 3、添加密钥到ssh-agent

确保 ssh-agent 是可用的。ssh-agent是一种控制用来保存公钥身份验证所使用的私钥的程序，其实ssh-agent就是一个密钥管理器，运行ssh-agent以后，使用ssh-add将私钥交给ssh-agent保管，其他程序需要身份验证的时候可以将验证申请交给ssh-agent来完成整个认证过程。
```
    # start the ssh-agent in the background
    eval "$(ssh-agent -s)"
    Agent pid 59566
````

添加生成的 SSH key 到 ssh-agent。
**    $ ssh-add ~/.ssh/id_rsa**

### clone
git clone http://邮箱(或用户名):密码@仓库

### 保存密码
```
git config --global user.email "你的git的注册邮箱"
git config --global user.user"你的git用户名"
然后输入一次用户密码，再根据自己的需求执行下面的任意一条命令

3、长期存储密码：
git config --global credential.helper store


````



## 子文件夹clone其他项目

```
git rm --cached ./submodule_path # delete reference to submodule HEAD (no trailing slash)
git rm .gitmodules             # if you have more than one submodules,
                               # you need to edit this file instead of deleting!
rm -rf ./submodule_path/.git     # make sure you have backup!!
git add ./submodule_path         # will add files instead of commit reference
git commit -m "remove submodule"
```

