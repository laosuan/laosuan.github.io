---
layout:     post
title:      java 笔记
subtitle:   all contains
date:       2020-07-02
author:     laosuan
header-img: Java-Debugging-Tips-1280x720.jpg
catalog: true
tags:
    - java
---

## 1 重写compare方法排序

```java
 // 4 排序优先级： 1相关自选股回答数降序 2所有答案回答数降序
userInvitationDtoList.sort(new Comparator<UserInvitationDto>() {
  @Override
  public int compare(UserInvitationDto o1, UserInvitationDto o2) {
    if (o1.getStockAnswerCount() > o2.getStockAnswerCount()) {
      return -1;
    } else if (o1.getStockAnswerCount() < o2.getStockAnswerCount()) {
      return 1;
    }

    if (o1.getAnswerCount() > o2.getAnswerCount()) {
      return -1;
    } else if (o1.getAnswerCount() < o2.getAnswerCount()) {
      return 1;
    }

    return 0;
  }
});
```

```java
 // 课程按照pv降序排序
list.sort(new Comparator<QuestionOverViewDto>() {
  @Override
  public int compare(QuestionOverViewDto o1, QuestionOverViewDto o2) {
    long o1PageView = o1.getQuestion().getPageView();
    long o2PageView = o2.getQuestion().getPageView();
    if (o1PageView > o2PageView) {
      return -1;
    } else if (o1PageView < o2PageView) {
      return 1;
    }
    return 0;
  }
```



## 2 切面

**@AspectJ支持以下3种通配符。**

*: 匹配任意字符，但它只能匹配上下文中的一个元素。

```java
//匹配任何public 的方法，返回值，方法名，和参数都匹配任意。
execution(public * *(..))
//匹配所有以To结尾的方法   
execution(* *To(..))
1234
```

… : 匹配任意字符，可以匹配上下文中的多个元素，但在表示类时，必须和*联合使用，在表示入参时则单独使用。

```java
//匹配com.smart包下，任何 TOTO
within(com. smart. service..*.*Service+)
12
```

+：表示按类型匹配指定类的所有类，必须跟在类名后面，如com.smart.Car+。继承或扩展指定类的所有类，同时还包括指定类本身。